---
layout: default
title: Sasani Music Library
---

<div style="max-width: 800px; margin: auto; color: #ddd;">
  {{ content }}
</div>

<hr style="margin: 2em 0; border: none; border-top: 1px solid #333;" />

<h2>üìÅ File Library</h2>
<div id="content">Loading file list‚Ä¶</div>

<script>
const user = "Sasani-Likes-Penguins";
const repo = "Sasani-Music";
const branch = "main";

async function fetchFolder(path = "") {
  const res = await fetch(`https://api.github.com/repos/${user}/${repo}/contents/${path}?ref=${branch}`);
  return res.ok ? await res.json() : [];
}

async function renderFolder(path = "", container) {
  const files = await fetchFolder(path);
  if (!files.length) return;

  const ul = document.createElement("ul");
  ul.style.listStyleType = "none";
  ul.style.marginLeft = "1em";

  for (const file of files) {
    const li = document.createElement("li");
    li.style.margin = "0.2em 0";

    if (file.type === "dir") {
      li.innerHTML = `<strong>üìÅ ${file.name}</strong>`;
      const sub = document.createElement("div");
      sub.style.marginLeft = "1.2em";
      li.appendChild(sub);
      await renderFolder(file.path, sub);
    } else if (!file.name.startsWith('.') && !["index.html","README.md"].includes(file.name)) {
      li.innerHTML = `<a href="${file.download_url}" target="_blank">${file.name}</a>`;
    }

    ul.appendChild(li);
  }
  container.appendChild(ul);
}

(async function() {
  const container = document.getElementById("content");
  container.innerHTML = "";
  await renderFolder("", container);
})();
</script>